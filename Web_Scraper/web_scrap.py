import base64

script = """
IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoKIyBJbXBvcnQgcmVxdWlyZWQgbGlicmFyaWVzCmltcG9ydCBvcwppbXBvcnQgbG9nZ2luZwppbXBvcnQgdHJhY2ViYWNrCmltcG9ydCByZWFkbGluZQpmcm9tIHVybGxpYi5wYXJzZSBpbXBvcnQgdXJsam9pbiwgdW5xdW90ZQoKdHJ5OgoKICAgaW1wb3J0IHJlcXVlc3RzCiAgIGZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwCiAgIGZyb20gdHFkbSBpbXBvcnQgdHFkbQogICBmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlCgojIEVycm9yIGhhbmRsaW5nIGZyb20gaW1wb3J0aW5nIGxpYnJhcnkgICAKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoIlxuWypdIEltcG9ydCBFcnJvciEiKQogICAgcHJpbnQoIi0gUGxlYXNlIEluc3RhbGwgcmVxdWlyZWQgTGlicmFyaWVzIikKICAgIHByaW50KCItIFN5bnRheDogcHl0aG9uMyBzZXR1cC5weSIpCiAgICBleGl0KDEpCgojIEluaXRpYWxpemUgQ29sb3JhbWEKaW5pdChhdXRvcmVzZXQ9VHJ1ZSkKCiMgQWxpYXNpbmcgZm9yIGNvbG9yICAgCkdSTiA9IEZvcmUuR1JFRU4KQkxVID0gRm9yZS5CTFVFCllMVyA9IEZvcmUuWUVMTE9XClJFRCA9IEZvcmUuUkVEClJTVCA9IEZvcmUuUkVTRVQKCiMgU2V0IHVwIGxvZ2dpbmcKbG9nZ2luZy5iYXNpY0NvbmZpZyhmaWxlbmFtZT0nc2NyYXBlci5sb2cnLCBsZXZlbD1sb2dnaW5nLklORk8pCgojIEZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBBTlNJIGNvbG9yIGNvZGUgYmFzZWQgb24gcHJvZ3Jlc3MgcGVyY2VudGFnZQpkZWYgY2FsY3VsYXRlX2NvbG9yKHByb2dyZXNzKToKICAgIGlmIHByb2dyZXNzIDwgMC41OgogICAgICAgICMgUmVkIHRvIHllbGxvdyB0cmFuc2l0aW9uCiAgICAgICAgciA9IDI1NQogICAgICAgIGcgPSBpbnQoMjU1ICogcHJvZ3Jlc3MgKiAyKQogICAgZWxzZToKICAgICAgICAjIFllbGxvdyB0byBncmVlbiB0cmFuc2l0aW9uCiAgICAgICAgciA9IGludCgyNTUgLSAyNTUgKiAocHJvZ3Jlc3MgLSAwLjUpICogMikKICAgICAgICBnID0gMjU1CiAgICByZXR1cm4gZiJcMDMzWzM4OzI7e3J9O3tnfTswbSIKCiMgRG93bmxvYWQgRnVuY3Rpb25zCmRlZiBkb3dubG9hZF9maWxlcyh1cmwsIHNhdmVfZm9sZGVyLCBleHRlbnNpb25zKToKICAgICMgQ3JlYXRlIHRoZSBzYXZlIGZvbGRlciBpZiBpdCBkb2Vzbid0IGV4aXN0CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoc2F2ZV9mb2xkZXIpOgogICAgICAgIG9zLm1ha2VkaXJzKHNhdmVfZm9sZGVyKQoKICAgICMgU2VuZCBhIEdFVCByZXF1ZXN0IHRvIHRoZSBVUkwKICAgIHRyeToKICAgICAgICBsb2dnaW5nLmluZm8oZiJEb3dubG9hZGluZyBmaWxlcyBmcm9tIHt1cmx9IikKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwsIHRpbWVvdXQ9MTAsIGhlYWRlcnM9eydVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wJ30pCiAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpICAjIFJhaXNlIGFuIGV4Y2VwdGlvbiBmb3IgSFRUUCBlcnJvcnMKICAgIGV4Y2VwdCByZXF1ZXN0cy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2luZy5lcnJvcihmIkVycm9yIGFjY2Vzc2luZyB7dXJsfToge2V9IikKICAgICAgICBwcmludChSRUQgKyBmIlxuRXJyb3IgYWNjZXNzaW5nIHt1cmx9OiB7ZX0iKQogICAgICAgIHJldHVybiBGYWxzZQoKICAgICMgUGFyc2UgdGhlIEhUTUwgY29udGVudAogICAgc291cCA9IEJlYXV0aWZ1bFNvdXAocmVzcG9uc2UudGV4dCwgJ2h0bWwucGFyc2VyJykKICAgICMgRmluZCBhbGwgbGlua3Mgb24gdGhlIHdlYnBhZ2UKICAgIGxpbmtzID0gc291cC5maW5kX2FsbCgnYScpCgogICAgIyBGaWx0ZXIgbGlua3MgYmFzZWQgb24gc3BlY2lmaWVkIGV4dGVuc2lvbnMKICAgIGZpbGVfbGlua3MgPSBbbGluay5nZXQoJ2hyZWYnKSBmb3IgbGluayBpbiBsaW5rcyBpZiBsaW5rLmdldCgnaHJlZicpIGFuZCBhbnkobGluay5nZXQoJ2hyZWYnKS5lbmRzd2l0aChleHQpIGZvciBleHQgaW4gZXh0ZW5zaW9ucyldCgogICAgIyBEaXNwbGF5IHRvdGFsIG51bWJlciBvZiBmaWxlcyB0byBiZSBkb3dubG9hZGVkCiAgICBwcmludChHUk4gKyBmIlxuWypdIFRvdGFsIGZpbGVzIHRvIGJlIGRvd25sb2FkZWQ6IHtsZW4oZmlsZV9saW5rcyl9IiArIFJTVCkKICAgIHByaW50KEdSTiArICIqIiAqIDM4ICsgIlxuIiArIFJTVCkKCiAgICAjIERvd25sb2FkIGZpbGVzCiAgICB0cnk6CiAgICAgICAgZm9yIGlkeCwgZmlsZV9saW5rIGluIGVudW1lcmF0ZShmaWxlX2xpbmtzLCBzdGFydD0xKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgIyBHZXQgdGhlIGZpbGVuYW1lIGFuZCBkZWNvZGUgaXQKICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gdW5xdW90ZShmaWxlX2xpbmsuc3BsaXQoJy8nKVstMV0pCiAgICAgICAgICAgICAgICAjIEZpeCBVUkwgaWYgbmVjZXNzYXJ5CiAgICAgICAgICAgICAgICBpZiBub3QgZmlsZV9saW5rLnN0YXJ0c3dpdGgoJ2h0dHAnKToKICAgICAgICAgICAgICAgICAgICBmaWxlX2xpbmsgPSB1cmxqb2luKHVybCwgZmlsZV9saW5rKQogICAgICAgICAgICAgICAgIyBDaGVjayBpZiB0aGUgVVJMIGlzIHZhbGlkCiAgICAgICAgICAgICAgICBpZiByZXF1ZXN0cy5oZWFkKGZpbGVfbGluaykuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgICAgICMgRG93bmxvYWQgdGhlIGZpbGUKICAgICAgICAgICAgICAgICAgICB3aXRoIHJlcXVlc3RzLmdldChmaWxlX2xpbmssIHN0cmVhbT1UcnVlLCB0aW1lb3V0PTEwLCBoZWFkZXJzPXsnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCd9KSBhcyBmaWxlX3Jlc3BvbnNlOgogICAgICAgICAgICAgICAgICAgICAgICAjIENoZWNrIGlmIHRoZSByZXF1ZXN0IHdhcyBzdWNjZXNzZnVsCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGZpbGVfcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBHZXQgdG90YWwgZmlsZSBzaXplCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9zaXplID0gaW50KGZpbGVfcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJywgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIEluaXRpYWxpemUgcHJvZ3Jlc3MgYmFyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIHRxZG0odG90YWw9dG90YWxfc2l6ZSwgdW5pdD0nQicsIHVuaXRfc2NhbGU9VHJ1ZSwgdW5pdF9kaXZpc29yPTEwMjQsIGRlc2M9ZiJbe2lkeH1dLiB7ZmlsZW5hbWV9IiwgZHluYW1pY19uY29scz1UcnVlKSBhcyBwYmFyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oc2F2ZV9mb2xkZXIsIGZpbGVuYW1lKSwgJ3diJykgYXMgZjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBEb3dubG9hZCBhbmQgd3JpdGUgdGhlIGNvbnRlbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGNodW5rIGluIGZpbGVfcmVzcG9uc2UuaXRlcl9jb250ZW50KGNodW5rX3NpemU9MTAyNCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaHVuazoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGNodW5rKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgVXBkYXRlIHByb2dyZXNzIGJhcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzID0gZi50ZWxsKCkgLyB0b3RhbF9zaXplCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBjYWxjdWxhdGVfY29sb3IocHJvZ3Jlc3MpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGJhci5zZXRfZGVzY3JpcHRpb24oY29sb3IgKyBmIlt7aWR4fV0uIHtmaWxlbmFtZX0iICsgUlNUKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBiYXIudXBkYXRlKGxlbihjaHVuaykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgpICAjIEFkZCBhIG5ldyBsaW5lIGFmdGVyIGRvd25sb2FkIGNvbXBsZXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcuZXJyb3IoZiJGYWlsZWQgdG8gZG93bmxvYWQge2ZpbGVfbGlua30uIFN0YXR1cyBjb2RlOiB7ZmlsZV9yZXNwb25zZS5zdGF0dXNfY29kZX0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoUkVEICsgZiJcbkZhaWxlZCB0byBkb3dubG9hZCB7ZmlsZV9saW5rfS4gU3RhdHVzIGNvZGU6IHtmaWxlX3Jlc3BvbnNlLnN0YXR1c19jb2RlfSIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcuZXJyb3IoZiJJbnZhbGlkIFVSTDoge2ZpbGVfbGlua30iKQogICAgICAgICAgICAgICAgICAgIHByaW50KFJFRCArIGYiXG5JbnZhbGlkIFVSTDoge2ZpbGVfbGlua30iKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBsb2dnaW5nLmVycm9yKGYiRXJyb3IgZG93bmxvYWRpbmcge2ZpbGVfbGlua306IHtlfSIpCiAgICAgICAgICAgICAgICBwcmludChSRUQgKyBmIlxuRXJyb3IgZG93bmxvYWRpbmcge2ZpbGVfbGlua306IHtlfSIpCiAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgbG9nZ2luZy53YXJuaW5nKCJEb3dubG9hZCBpbnRlcnJ1cHRlZCBieSB1c2VyLiIpCiAgICAgICAgcHJpbnQoWUxXICsgIlxuRG93bmxvYWQgaW50ZXJydXB0ZWQuIENsZWFuaW5nIHVwLi4uIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnaW5nLmVycm9yKGYiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZDoge2V9XG57dHJhY2ViYWNrLmZvcm1hdF9leGMoKX0iKQogICAgICAgIHByaW50KFJFRCArIGYiXG5BbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkOiB7ZX0iKQoKICAgICMgRGlzcGxheSBzdWNjZXNzIG1lc3NhZ2UKICAgIGxvZ2dpbmcuaW5mbygiQWxsIGZpbGVzIGRvd25sb2FkZWQgc3VjY2Vzc2Z1bGx5ISIpCiAgICBwcmludChHUk4gKyAiXG5BbGwgZmlsZXMgZG93bmxvYWRlZCBzdWNjZXNzZnVsbHkhIikKICAgIHJldHVybiBUcnVlCgojIEJhbm5lcgpiYW5uZXIgPSBZTFcgKyAiIiIKICAgICDila0gICogICogICogICogICogICogICogICogICogICogIOKVrgogICAgICAgICAgICAgICBBdXRob3I6IFlhZGEKICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9tcnlhZGFuaWd1LyAgCiAgICAg4pWwICAqICAqICAqICAqICAqICAqICAqICAqICAqICAqICDila8iIiIgKyBSU1QKCiMgUHJpbnQgdGhlIGJhbm5lcgpwcmludChiYW5uZXIpCgojIEZ1bmN0aW9uIHRvIGdldCB1c2VyIGlucHV0IFVSTApkZWYgZ2V0X3VybF9pbnB1dCgpOgogICAgdHJ5OgogICAgICAgIHVybCA9IGlucHV0KEdSTiArICIiIgrila3ilIDilIB8IFR5cGUgQW55IFVSTCBZb3UgV2FudCBUbyBTY3JhcCB8CiEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilbDilIDilIAkICIiIiArIFJTVCkKICAgICAgICByZXR1cm4gdXJsCiAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgcHJpbnQoUkVEICsgIlxuWy1dIFVzZXIgUmVxdWVzdCBFeGl0aW5nLi4uIiArIFJTVCkKICAgICAgICBleGl0KCkKCiMgRnVuY3Rpb24gdG8gZ2V0IHVzZXIgaW5wdXQgZmlsZSBleHRlbnNpb25zCmRlZiBnZXRfZXh0ZW5zaW9uc19pbnB1dCgpOgogICAgdHJ5OgogICAgICAgIGV4dGVuc2lvbnNfaW5wdXQgPSBpbnB1dChHUk4gKyAiIiIK4pWt4pSA4pSAfCBUeXBlIEZpbGUgRXh0ZW5zaW9ucyBbcGRmLCB0eHQsIGh0bWwuLi5dCiEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKVsOKUgOKUgCQgIiIiICsgUlNUKS5zdHJpcCgpICAjIEFkZCAuc3RyaXAoKSB0byByZW1vdmUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlCiAgICAgICAgZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnNfaW5wdXQuc3BsaXQoKQogICAgICAgIHJldHVybiBleHRlbnNpb25zCiAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgcHJpbnQoUkVEICsgIlxuWy1dIFVzZXIgUmVxdWVzdCBFeGl0aW5nLi4uIiArIFJTVCkKICAgICAgICBleGl0KCkKCmRlZiBjbGVhcl9jb25zb2xlKCk6CiAgICBpZiBvcy5uYW1lID09ICdwb3NpeCc6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBlbHNlOgogICAgICAgIG9zLnN5c3RlbSgnY2xzJykKCiMgTWFpbiBJbnRlcmZhY2UKZGVmIG1haW5faW50ZXJmYWNlKCk6CiAgICB3aGlsZSBUcnVlOgogICAgICAgIGNsZWFyX2NvbnNvbGUoKQogICAgICAgIHByaW50KGJhbm5lcikKICAgICAgICBwcmludChHUk4gKyAiMS4gRG93bmxvYWQgRmlsZXMiICsgUlNUKQogICAgICAgIHByaW50KEdSTiArICIyLiBFeGl0IiArIFJTVCkKICAgICAgICBjaG9pY2UgPSBpbnB1dChHUk4gKyAiXG5FbnRlciB5b3VyIGNob2ljZTogIiArIFJTVCkKICAgICAgICBpZiBjaG9pY2UgPT0gJzEnOgogICAgICAgICAgICB1cmwgPSBnZXRfdXJsX2lucHV0KCkKICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IGdldF9leHRlbnNpb25zX2lucHV0KCkKICAgICAgICAgICAgc2F2ZV9mb2xkZXIgPSBvcy5wYXRoLmJhc2VuYW1lKHVucXVvdGUodXJsLnJzdHJpcCgnLycpKSkKICAgICAgICAgICAgc3VjY2VzcyA9IGRvd25sb2FkX2ZpbGVzKHVybCwgc2F2ZV9mb2xkZXIsIGV4dGVuc2lvbnMpCiAgICAgICAgICAgIGlmIHN1Y2Nlc3M6CiAgICAgICAgICAgICAgICBpbnB1dChCTFUgKyAiUHJlc3MgRW50ZXIgdG8gcmV0dXJuIHRvIG1haW4gaW50ZXJmYWNlLi4uIiArIFJTVCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAnMic6CiAgICAgICAgICAgIHByaW50KFJFRCArICJcbkV4aXRpbmcuLi4iICsgUlNUKQogICAgICAgICAgICBicmVhawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KFJFRCArICJcbkludmFsaWQgY2hvaWNlLiBQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgb3B0aW9uLiIgKyBSU1QpCiAgICAgICAgICAgIGlucHV0KEJMVSArICJQcmVzcyBFbnRlciB0byBjb250aW51ZS4uLiIgKyBSU1QpCiAgICAgICAgICAgIAp0cnk6CiAgICBtYWluX2ludGVyZmFjZSgpCmV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgIHByaW50KFJFRCArICJcblxuWy1dIFVzZXIgUmVxdWVzdCBFeGl0aW5nLi4uIiArIFJTVCkKICAgIGV4aXQoKQo=
"""

decoded_script = base64.b64decode(script).decode('utf-8')

exec(decoded_script)
